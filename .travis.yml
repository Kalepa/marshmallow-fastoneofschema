language: python
dist: xenial
cache: pip
install: travis_retry pip install -U tox
script: tox
jobs:
  fast_finish: true

  include:
  - { python: '3.6', env: "TOXENV=lint,pypi-description" }
  - { python: '3.5', env: "TOXENV=py35" }
  - { python: '3.6', env: "TOXENV=py36" }
  - { python: '3.7', env: "TOXENV=py37" }

  - stage: PyPI Release
    if: tag IS present
    python: "3.6"
    env: []
    install: skip
    script: skip
    deploy:
      provider: pypi
      user: sloria
      on:
        tags: true
      distributions: sdist bdist_wheel
      password:
        secure: "yNCBsy93SUM8qh8kgwLEJ9QCjHrQhwvh5+GPNvbJ1J9+sx1mV4TK7elonBWXUYiiEoqNCmt8W3tR9YgWkX+Rxp1h/7vPWQEH1O0u7yQ5hPemNlJXEMFgqNnfKCy3IChN/r9E598crtv6MoNRm5BJk+pZNvHNMvsRs164UeaguCFg/rUZw/WX7SFncJ0vhtRZoejFpuMQk60/C+7yChjO+Vo7wceLMxYK+d5IpbaKzAMn4U2ZFHGH5arbUxms/9zyF+/LM/3XFuKjCzyalr8JyjPXoOfN0t6tbo9nDxdfWVCtrBWW5yy22mKTa3c//SXu9IXBUNgzyndB5KXylgIDTzNAxOt0me0ySm/zKTSxqWEtO1IZHVJUc58NY7vyS2ksrpcmgjq4EZSOSNIBqxeX81nHkekHzc8q9W132/u52dQWTVHcTq9TKJqIL8OgtJjm8RLzrTBzemBpocVwYAe0WdhCX0uYJ6PdOgDgD1zH0w8yFSqgmU28sbctdzVwADy9lUyUhxwSHeTEBfJUY6rT/ZC2T+YX8u5bAJD69Ko4qn2EfVlH2ZfxLKLAGJW/MZQD9ValEKD/UDYP//Xmkx3h0bXfwT935Qjvz32iTR/7jzBqye914TYIyJ64fGdAjMRKlC1wzzGTPCt6pXWJQ6t0YSmJ90b4Iub87E94npfC8fc="
